<!DOCTYPE html>
<html lang="en">

<head>
  <title>お問い合わせファーム</title>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style/materialize.min.css">
  <link rel="stylesheet" href="style/form.css">
</head>

<body>
  <div class="container container-details">
    <div class="contact-form">
      <form>
        <div id="contact-data-input">
          <h1 class="contact-form-title">お問い合わせフォーム</h1>

          <!--For Name｜ここから-->
          <div class="row">
            <div class="col s12 m5 " id="contact-form-label">
              お名前
              <span class="contact-form-need">必須</span>
            </div>
            <div class="col s12 m7">
              <input type="text" name="name-1" id="name-1" placeholder="First Name" required>
              <input type="text" name="name-2" id="name-2" placeholder="Last Name" required>
            </div>
          </div>
          <!--For Name｜ここまで-->


          <!--For Gender｜ここから-->
          <div class="row">
            <div class="col s5 m5 14 contact-form-label">
              性別
            </div>
            <div class="col s5 m7 18">

              <label>
                <input type="radio" name="gender" id="gender-1" checked />
                <span>男性</span>
              </label>


              <label>
                <input type="radio" name="gender" id="gender-2">
                <span>女性</span>
              </label>

            </div>
          </div>
          <!--For Name｜ここまで-->

          <!--For Address｜ここから-->
          <div class="row">
            <div class="col s5 m5 14 contact-form-label">
              ご住所
            </div>
            <div class="col s7 m7 18">

              <span>テ</span>
              <input type="number" name="address" id="address-1" placeholder="001">

              <span>ー</span>
              <input type="number" name="address" id="address-2" placeholder="001">
              <br>

              <textarea name="address-text" id="address-text" cols="30" rows="2"></textarea>
            </div>
          </div>
          <!--For Address｜ここまで-->

          <!--For Phone｜ここから-->
          <div class="row">
            <div class="col s5 m5 contact-form-label">
              電話番号
              <span class="contact-form-need">必須</span>
            </div>
            <div class="col s7 m7 18">
              <input type="number" name="phone" id="phone" placeholder="09-7777799" required>
              <span id="phone-length" style="display: none;">お電話番号が9文字です。</span>
            </div>
          </div>
          <!--For Phone｜ここまで-->

          <!--For Mail｜ここから-->
          <div class="row">
            <div class="col s5 m5 contact-form-label">
              メール
              <span class="contact-form-need">必須</span>
            </div>
            <div class="col s7 m7 18">
              <input type="email" id="mail" placeholder="contact@mail.com" required>
              <span id="valid-mail" style="display: none;">Mail is not valid</span>
            </div>
          </div>
          <!--For Phone｜ここまで-->

          <div class="row">
            <div class="col s5 m5 contact-form-label">
              確認メール
            </div>
            <div class="col s5 m7 18">
              <input type="email" id="retype-mail" placeholder="contact@mail.com" required><br>
              <span id="checked-mail" style="display: none;">メールアドレスと同じアドレスを入力してください</span>
            </div>
          </div>


          <div class="row">
            <div class="col s12 m5 contact-form-label">
              お問い合わせ種類
            </div>
            <div class="col s12 m7 18 input-field select-required">
              <select name="お問い合わせの種類" id="contact_type" onchange="ShowHideDiv()" class="browser-default">
                <option value="" disabled selected>ご選択ください</option>
                <option value="勉強会について" id="contactypevalue">勉強会について</option>
                <option value="レギュラー用の事種提出" id="contactypevalue">レギュラー用の事種提出</option>
                <option value="新しいクラスの情報" id="contactypevalue">新しいクラスの情報</option>
                <option value="個人プロジェクトの窓口" id="contactypevalue">個人プロジェクトの窓口</option>
                <option value="定別ミーティングの欠席に関する連絡" id="contactypevalue">定別ミーティングの欠席に関する連絡</option>
                <option value="そぞれのご意見" id="contactypevalue">そぞれのご意見</option>
              </select>
            </div>
          </div>


          <div class="row" id="level-box" style="display: none;">
            <div class="col s12 m5 contact-form-label">
              レベルと資格
              <span class="contact-form-need">必須</span>
            </div>
            <div class="col s12 m7 18">
              <input type="text" name="level" id="level" required>
            </div>
          </div>

          <div class="row">
            <div class="col s12 m5 contact-form-label">
              お問い合わせ内容
            </div>
            <div class="col s12 m7 18 input-field required">
              <textarea name="contact-conten" id="contact-content" rows="6"
                placeholder="こちらにお問合せ内容をご入力ください。"></textarea>
            </div>
          </div>
          <div>
            <label>
              <input id="student" type="checkbox" />
              <span class="student">学生の時はこちらをチェックする</span>
            </label>

          </div>
          <div>
            <button type="submit" onclick="myFunction()" class="send-button">上記に同意してお問い合わせを送信する</button>
          </div>
        </div>
      </form>

      <div id="contact-data-output" style="display: none;">
        <h1 class="contact-form-title">送信されたお問い合わせフォームデータ！</h1>
        <div class="contact-form-label">お名前:<span id="output-name"></span></div><br>
        <div class="contact-form-label">性別：<span id="output-gender"></span></div><br>
        <div class="contact-form-label">ご住所：<span id="output-address"></span></div><br>
        <div class="contact-form-label">電話番号：<span id="output-phone"></span></div><br>
        <div class="contact-form-label">メール：<span id="output-mail"></span></div><br>
        <div class="contact-form-label">確認メール：<span id="output-retypemail"></span></div><br>
        <div class="contact-form-label">お問い合わせ種類：<span id="output-contact-type"></span></div><br>
        <div class="contact-form-label">レベルと資格：<span id="output-level"></span></div><br>
        <div class="contact-form-label">お問い合わせ内容：<span id="output-contact-contact"></span></div><br>
        <div class="contact-form-label">学生：<span id="output-student"></span></div><br>
      </div>

    </div>

  </div>
  <script>

    function ShowHideDiv() {
      var selectedValue = document.getElementById("contact_type").value;
      var Level = document.getElementById("level-box");
      Level.style.display = selectedValue == "新しいクラスの情報" ? "block" : "none";

    }

    // Validate numbers
    var phone = document.getElementById("phone");
    phone.onkeyup = function () {
      // Validate length
      if (phone.value.length >= 9) {
        document.getElementById("phone-length").style.display = "block";
      } else {
        document.getElementById("phone-length").style.display = "none";
      }
    }



    var mail = document.getElementById("mail");
    var mailFormact = /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/g;

    mail.onkeyup = function () {
      if (mail.value.match(mailFormact)) {
        document.getElementById("valid-mail").style.display = "none";
      } else {
        document.getElementById("valid-mail").style.display = "block";
      }
    }

    function myFunction() {

      var name1 = document.getElementById("name-1").value;
      var name2 = document.getElementById("name-2").value;

      if (name1, name2 === "") {
        alert("お名前を入れてください。");
        return false;
      } else {
        document.getElementById("output-name").innerHTML = name1 + " " + name2;
      }


      //to get gendet
      var gender1 = document.getElementById("gender-1");
      var gender2 = document.getElementById("gender-2");
      if (gender1.checked == true) {
        document.getElementById("output-gender").innerHTML = "男性";
      } else {
        document.getElementById("output-gender").innerHTML = "女性";
      }

      //to get address
      var address1 = document.getElementById("address-1").value;
      var address2 = document.getElementById("address-2").value;
      var addresstext = document.getElementById("address-text").value;
      document.getElementById("output-address").innerHTML = address1 + address2 + addresstext;

      // to get Phone
      var phone = document.getElementById("phone").value;
      if (phone === "") {
        alert("電話番号を入れてください。");
        return false;
      } else {
        document.getElementById("output-phone").innerHTML = phone;
      }

      //to get mail 
      var mail = document.getElementById("mail").value;
      var retypemail = document.getElementById("retype-mail").value;
      var checkedmail = document.getElementById("checked-mail");

      if (mail !== retypemail) {
        checkedmail.style.display = "block";
        return false;
      }


      if (mail === "") {
        alert("メールアドレスを入れてください。")
        return false;
      } else {
        document.getElementById("output-mail").innerHTML = mail;
        document.getElementById("output-retypemail").innerHTML = retypemail;
      }

      //to get お問い合わせ
      var selectedValue = document.getElementById("contact_type").value;

      document.getElementById("output-contact-type").innerHTML = selectedValue;




      //to get Level
      var Qualification = document.getElementById("level").value;

      document.getElementById("output-level").innerHTML = Qualification;

      //to get Content-contetnt
      var Contact_contetnt = document.getElementById("contact-content").value;
      document.getElementById("output-contact-contact").innerHTML = Contact_contetnt;

      //to get student
      var Student = document.getElementById("student");
      if (Student.checked === true) {
        document.getElementById("output-student").innerHTML = "true";
      } else {
        document.getElementById("output-student").innerHTML = "false";
      }

      var x, y;
      x = document.getElementById("contact-data-input");
      y = document.getElementById("contact-data-output");


      if (y.style.display === "none") {
        y.style.display = "block";
        x.style.display = "none"
      }

    }




  </script>
</body>

</html>